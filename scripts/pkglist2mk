#! /bin/bash

shopt -s nullglob
set -eu

pkglist="${1:-PKGLIST}"
exec <"$pkglist"

addLicenseInfo_archname="addlicenseinfo"
Advgame_archname="advgame"
arbtt_archname="arbtt"
armada_archname="armada"
arrowp_archname="arrowp"
babylon_archname="babylon"
backdropper_archname="backdropper"
bacteria_archname="bacteria"
baskell_archname="baskell"
beautifHOL_archname="beautifhol"
Befunge93_archname="befunge93"
bidirectionalization_combined_archname="bidirectionalization-combined"
BirdPP_archname="birdpp"
bla_archname="bla"
bloxorz_archname="bloxorz"
bluetile_archname="bluetile"
Bookshelf_archname="bookshelf"
breakout_archname="breakout"
brians_brain_archname="brians-brain"
c2hs_archname="c2hs"
cabal2arch_archname="cabal2arch"
cabal2doap_archname="cabal2doap"
cabal2spec_archname="cabal2spec"
cabalgraph_archname="cabalgraph"
cabal_sort_archname="cabal-sort"
cap_archname="cap"
capri_archname="capri"
carboncopy_archname="carboncopy"
CheatSheet_archname="cheatsheet"
clevercss_archname="clevercss"
cltw_archname="cltw"
clustertools_archname="clustertools"
Combinatorrent_archname="combinatorrent"
conjure_archname="conjure"
CPBrainfuck_archname="cpbrainfuck"
CPL_archname="cpl"
cpphs_archname="cpphs"
cpsa_archname="cpsa"
cuboid_archname="cuboid"
DAG_Tournament_archname="dag-tournament"
darcs_beta_archname="darcs-beta"
darcs_fastconvert_archname="darcs-fastconvert"
darcs_graph_archname="darcs-graph"
darcswatch_archname="darcswatch"
datapacker_archname="datapacker"
DefendTheKing_archname="defendtheking"
dephd_archname="dephd"
derive_archname="derive"
detrospector_archname="detrospector"
deunicode_archname="deunicode"
diffcabal_archname="diffcabal"
DisTract_archname="distract"
djinn_archname="djinn"
DocTest_archname="doctest"
DrIFT_cabalized_archname="drift-cabalized"
ehaskell_archname="ehaskell"
elerea_examples_archname="elerea-examples"
Emping_archname="emping"
estreps_archname="estreps"
Eternal10Seconds_archname="eternal10seconds"
explore_archname="explore"
feed2lj_archname="feed2lj"
feed_cli_archname="feed-cli"
Flippi_archname="flippi"
flower_archname="flower"
foo_archname="foo"
fquery_archname="fquery"
fractal_archname="fractal"
frag_archname="frag"
FTPLine_archname="ftpline"
Fungi_archname="fungi"
funion_archname="funion"
gameclock_archname="gameclock"
GeBoP_archname="gebop"
GenSmsPdu_archname="gensmspdu"
ghc_core_archname="ghc-core"
ghc_gc_tune_archname="ghc-gc-tune"
ghc_mod_archname="ghc-mod"
graphmod_archname="graphmod"
graphtype_archname="graphtype"
greencard_archname="greencard"
gt_tools_archname="gt-tools"
GuiHaskell_archname="guihaskell"
hackage_sparks_archname="hackage-sparks"
haddock_archname="haddock"
haltavista_archname="haltavista"
happraise_archname="happraise"
HaRe_archname="hare"
hark_archname="hark"
Hashell_archname="hashell"
haskeem_archname="haskeem"
haskell_in_space_archname="haskell-in-space"
Haskelloids_archname="haskelloids"
HaskellTorrent_archname="haskelltorrent"
haskell_updater_archname="haskell-updater"
hask_home_archname="hask-home"
hasktags_archname="hasktags"
haste_archname="haste"
hback_archname="hback"
hbeat_archname="hbeat"
hburg_archname="hburg"
hcc_archname="hcc"
helisp_archname="helisp"
hetris_archname="hetris"
hevolisa_archname="hevolisa"
hevolisa_dph_archname="hevolisa-dph"
hichi_archname="hichi"
hinvaders_archname="hinvaders"
hircules_archname="hircules"
hledger_archname="hledger"
hmp3_archname="hmp3"
Hmpf_archname="hmpf"
hoogle_archname="hoogle"
hp2any_graph_archname="hp2any-graph"
hp2any_manager_archname="hp2any-manager"
hp2pretty_archname="hp2pretty"
hprotoc_archname="hprotoc"
hpylos_archname="hpylos"
hranker_archname="hranker"
HRay_archname="hray"
hs2dot_archname="hs2dot"
hsbackup_archname="hsbackup"
hsc3_graphs_archname="hsc3-graphs"
hsclock_archname="hsclock"
hscolour_archname="hscolour"
hscurses_fish_ex_archname="hscurses-fish-ex"
HSFFIG_archname="hsffig"
hsgtd_archname="hsgtd"
hslackbuilder_archname="hslackbuilder"
hstidy_archname="hstidy"
hstzaar_archname="hstzaar"
htags_archname="htags"
htar_archname="htar"
HTicTacToe_archname="htictactoe"
hunp_archname="hunp"
hurdle_archname="hurdle"
husky_archname="husky"
hyahtzee_archname="hyahtzee"
hybrid_archname="hybrid"
ideas_archname="ideas"
imgurder_archname="imgurder"
ip6addr_archname="ip6addr"
ircbouncer_archname="ircbouncer"
ixdopp_archname="ixdopp"
iyql_archname="iyql"
jarfind_archname="jarfind"
kbq_gu_archname="kbq-gu"
kit_archname="kit"
LambdaCalculator_archname="lambdacalculator"
lambdacube_archname="lambdacube"
LambdaINet_archname="lambdainet"
LambdaShell_archname="lambdashell"
leksah_archname="leksah"
lhae_archname="lhae"
lhc_archname="lhc"
lhs2tex_archname="lhs2tex"
life_archname="life"
line2pdf_archname="line2pdf"
linkchk_archname="linkchk"
lostcities_archname="lostcities"
lscabal_archname="lscabal"
mage_archname="mage"
make_hard_links_archname="make-hard-links"
MazesOfMonad_archname="mazesofmonad"
mdo_archname="mdo"
memscript_archname="memscript"
Mhailist_archname="mhailist"
mighttpd_archname="mighttpd"
mines_archname="mines"
minesweeper_archname="minesweeper"
ministg_archname="ministg"
mkbndl_archname="mkbndl"
mkcabal_archname="mkcabal"
Monadius_archname="monadius"
mp3decoder_archname="mp3decoder"
mpdmate_archname="mpdmate"
multiplicity_archname="multiplicity"
nehe_tuts_archname="nehe-tuts"
NGrams_archname="ngrams"
nikepub_archname="nikepub"
nptools_archname="nptools"
nymphaea_archname="nymphaea"
omnicodec_archname="omnicodec"
only_archname="only"
OpenAFP_Utils_archname="openafp-utils"
PastePipe_archname="pastepipe"
pdf2line_archname="pdf2line"
pesca_archname="pesca"
photoname_archname="photoname"
piet_archname="piet"
pkggraph_archname="pkggraph"
PlslTools_archname="plsltools"
pointfree_archname="pointfree"
pointful_archname="pointful"
pony_archname="pony"
primula_bot_archname="primula-bot"
printxosd_archname="printxosd"
prof2dot_archname="prof2dot"
PTQ_archname="ptq"
Pugs_archname="pugs"
pugs_DrIFT_archname="pugs-drift"
pxsl_tools_archname="pxsl-tools"
quickcheck_script_archname="quickcheck-script"
randsolid_archname="randsolid"
Ranka_archname="ranka"
rbr_archname="rbr"
regex_posix_unittest_archname="regex-posix-unittest"
repa_examples_archname="repa-examples"
riot_archname="riot"
roguestar_engine_archname="roguestar-engine"
roguestar_gl_archname="roguestar-gl"
rpf_archname="rpf"
sat_archname="sat"
sat_micro_hs_archname="sat-micro-hs"
scaleimage_archname="scaleimage"
scan_archname="scan"
scons2dot_archname="scons2dot"
Scurry_archname="scurry"
sequor_archname="sequor"
she_archname="she"
shelltestrunner_archname="shelltestrunner"
showdown_archname="showdown"
Shu_thing_archname="shu-thing"
simgi_archname="simgi"
simseq_archname="simseq"
smartword_archname="smartword"
sorty_archname="sorty"
SpaceInvaders_archname="spaceinvaders"
sphinx_cli_archname="sphinx-cli"
statechart_archname="statechart"
strictify_archname="strictify"
subtitles_archname="subtitles"
supero_archname="supero"
tabloid_archname="tabloid"
tccli_archname="tccli"
testpattern_archname="testpattern"
tetris_archname="tetris"
thimk_archname="thimk"
threadPool_archname="threadpool"
threadscope_archname="threadscope"
timberc_archname="timberc"
TimePiece_archname="timepiece"
todos_archname="todos"
topkata_archname="topkata"
turing_music_archname="turing-music"
twitter_archname="twitter"
txt2rtf_archname="txt2rtf"
typalyze_archname="typalyze"
TypeIlluminator_archname="typeilluminator"
uacpid_archname="uacpid"
uhexdump_archname="uhexdump"
UMM_archname="umm"
urlcheck_archname="urlcheck"
vintage_basic_archname="vintage-basic"
visual_prof_archname="visual-prof"
wavconvert_archname="wavconvert"
wol_archname="wol"
wordsetdiff_archname="wordsetdiff"
wp_archivebot_archname="wp-archivebot"
wxAsteroids_archname="wxasteroids"
xml2x_archname="xml2x"
xsact_archname="xsact"
YACPong_archname="yacpong"
YampaSynth_archname="yampasynth"
yavie_archname="yavie"
yeganesh_archname="yeganesh"
yst_archname="yst"
ZMachine_archname="zmachine"
ztail_archname="ztail"

while read pkgname pkgver pkgrel; do
  var="${pkgname//-/_}_archname"
  archname="${!var:-haskell-$(echo $pkgname | tr A-Z a-z)}"
  echo "PACKAGES += $pkgname"
  echo "${pkgname}_archname = $archname"
  echo "${pkgname}_version = $pkgver"
  echo "${pkgname}_pkgrel = $pkgrel"
  echo "${pkgname}_cabalfile = $pkgname-$pkgver-$pkgrel.cabal"
  echo "${pkgname}_cabalurl = http://hackage.haskell.org/packages/archive/$pkgname/$pkgver/$pkgname.cabal"
  echo "${pkgname}_aurball = $archname-$pkgver-$pkgrel.src.tar.gz"
  echo ""
done
